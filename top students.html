<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>๐ ุฃูุงุฆู ุงูุทูุงุจ - ูุฏุฑุณุฉ ุนุฑุจ ุงูุฑูู</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
</head>
<body>
<div class="container my-5">
  <h2 class="text-center">๐ ุฃูุงุฆู ุงูุตู ุงูุฃูู ุงูุงุนุฏุงุฏู</h2>
  <table class="table table-bordered" id="top-ula">
    <thead><tr><th>ุงูุชุฑุชูุจ</th><th>ุงูุงุณู</th><th>ุงููุฌููุน ุงูููู</th></tr></thead>
    <tbody></tbody>
  </table>

  <h2 class="text-center mt-5">๐ ุฃูุงุฆู ุงูุตู ุงูุซุงูู ุงูุฅุนุฏุงุฏู</h2>
  <table class="table table-bordered" id="top-thania">
    <thead><tr><th>ุงูุชุฑุชูุจ</th><th>ุงูุงุณู</th><th>ุงููุฌููุน ุงูููู</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<script>
  // ุฑุงุจุท API ูู opensheet
  const API_BASE = 'https://opensheet.elk.sh/1y7NekqhM3tJ8FCQFiBKtJpOwtJrfY13rtiWF6M-Ttcg';

  // ุชุญููู ูุนุฑุถ ุฃูุถู 10 ูู ุดูุช ูุนูู
  async function loadTop(sheetName, tableId) {
    try {
      const res = await fetch(`${API_BASE}/${encodeURIComponent(sheetName)}`);
      const rows = await res.json();
      const sorted = rows
        .filter(r => r["ุงูุงุณู"] && r["ุงููุฌููุน ุงูููู"])
        .sort((a,b) => parseFloat(b["ุงููุฌููุน ุงูููู"]) - parseFloat(a["ุงููุฌููุน ุงูููู"]));
      const top = sorted.slice(0, 10);

      const body = document.querySelector(`#${tableId} tbody`);
      body.innerHTML = '';
      top.forEach((r, i) => {
        body.innerHTML += `<tr>
          <td>${i+1}</td>
          <td>${r["ุงูุงุณู"]}</td>
          <td>${r["ุงููุฌููุน ุงูููู"]}</td>
        </tr>`;
      });
    } catch (e) {
      console.error('Error loading sheet', sheetName, e);
    }
  }

  // ุชุญููู ุจูุงูุงุช ุงูุฃูุงุฆู
  loadTop('ุฃููู', 'top-ula');
  loadTop('ุซุงููุฉ', 'top-thania');
</script>
</body>
</html>
